{"ast":null,"code":"const API_BASE_URL=process.env.NODE_ENV==='production'?'/api':'http://localhost:3001/api';class ApiService{// User management\nasync createUser(username,password){let email=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;const response=await fetch(\"\".concat(API_BASE_URL,\"/users\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({username,password,email})});if(!response.ok){const errorData=await response.json().catch(()=>({error:'Unknown error'}));throw new Error(errorData.error||\"HTTP \".concat(response.status));}return response.json();}async loginUser(username,password){const response=await fetch(\"\".concat(API_BASE_URL,\"/users/login\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({username,password})});if(!response.ok){const errorData=await response.json().catch(()=>({error:'Unknown error'}));throw new Error(errorData.error||\"HTTP \".concat(response.status));}return response.json();}async getUser(id){const response=await fetch(\"\".concat(API_BASE_URL,\"/users/\").concat(id));return response.json();}async getAllUsers(){const response=await fetch(\"\".concat(API_BASE_URL,\"/users\"));return response.json();}// Game sessions\nasync createGameSession(userId,gameData){const{score,timeLeft,sentencesCompleted,accuracy,wpm}=gameData;const response=await fetch(\"\".concat(API_BASE_URL,\"/sessions\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({user_id:userId,score,time_left:timeLeft,sentences_completed:sentencesCompleted,accuracy,wpm})});return response.json();}async getUserSessions(userId){const response=await fetch(\"\".concat(API_BASE_URL,\"/users/\").concat(userId,\"/sessions\"));return response.json();}// Sentence attempts\nasync saveSentenceAttempt(sessionId,sentence,userInput,isCorrect,timeTaken){const response=await fetch(\"\".concat(API_BASE_URL,\"/sentence-attempts\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({session_id:sessionId,sentence,user_input:userInput,is_correct:isCorrect,time_taken:timeTaken})});return response.json();}// Statistics\nasync getUserStats(userId){const response=await fetch(\"\".concat(API_BASE_URL,\"/users/\").concat(userId,\"/stats\"));return response.json();}async getLeaderboard(){const response=await fetch(\"\".concat(API_BASE_URL,\"/leaderboard\"));if(!response.ok){const errorData=await response.json().catch(()=>({error:'Unknown error'}));throw new Error(errorData.error||\"HTTP \".concat(response.status));}return response.json();}// Health check\nasync checkHealth(){const response=await fetch(\"\".concat(API_BASE_URL,\"/health\"));return response.json();}}const apiService=new ApiService();export default apiService;","map":{"version":3,"names":["API_BASE_URL","process","env","NODE_ENV","ApiService","createUser","username","password","email","arguments","length","undefined","response","fetch","concat","method","headers","body","JSON","stringify","ok","errorData","json","catch","error","Error","status","loginUser","getUser","id","getAllUsers","createGameSession","userId","gameData","score","timeLeft","sentencesCompleted","accuracy","wpm","user_id","time_left","sentences_completed","getUserSessions","saveSentenceAttempt","sessionId","sentence","userInput","isCorrect","timeTaken","session_id","user_input","is_correct","time_taken","getUserStats","getLeaderboard","checkHealth","apiService"],"sources":["/Users/bijoux/code/Typing-Game/typing-game/src/services/api.js"],"sourcesContent":["const API_BASE_URL = process.env.NODE_ENV === 'production' \n    ? '/api' \n    : 'http://localhost:3001/api';\n\nclass ApiService {\n    // User management\n    async createUser(username, password, email = null) {\n        const response = await fetch(`${API_BASE_URL}/users`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({ username, password, email }),\n        });\n        \n        if (!response.ok) {\n            const errorData = await response.json().catch(() => ({ error: 'Unknown error' }));\n            throw new Error(errorData.error || `HTTP ${response.status}`);\n        }\n        \n        return response.json();\n    }\n\n    async loginUser(username, password) {\n        const response = await fetch(`${API_BASE_URL}/users/login`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({ username, password }),\n        });\n        \n        if (!response.ok) {\n            const errorData = await response.json().catch(() => ({ error: 'Unknown error' }));\n            throw new Error(errorData.error || `HTTP ${response.status}`);\n        }\n        \n        return response.json();\n    }\n\n    async getUser(id) {\n        const response = await fetch(`${API_BASE_URL}/users/${id}`);\n        return response.json();\n    }\n\n    async getAllUsers() {\n        const response = await fetch(`${API_BASE_URL}/users`);\n        return response.json();\n    }\n\n    // Game sessions\n    async createGameSession(userId, gameData) {\n        const { score, timeLeft, sentencesCompleted, accuracy, wpm } = gameData;\n        const response = await fetch(`${API_BASE_URL}/sessions`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                user_id: userId,\n                score,\n                time_left: timeLeft,\n                sentences_completed: sentencesCompleted,\n                accuracy,\n                wpm,\n            }),\n        });\n        return response.json();\n    }\n\n    async getUserSessions(userId) {\n        const response = await fetch(`${API_BASE_URL}/users/${userId}/sessions`);\n        return response.json();\n    }\n\n    // Sentence attempts\n    async saveSentenceAttempt(sessionId, sentence, userInput, isCorrect, timeTaken) {\n        const response = await fetch(`${API_BASE_URL}/sentence-attempts`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                session_id: sessionId,\n                sentence,\n                user_input: userInput,\n                is_correct: isCorrect,\n                time_taken: timeTaken,\n            }),\n        });\n        return response.json();\n    }\n\n    // Statistics\n    async getUserStats(userId) {\n        const response = await fetch(`${API_BASE_URL}/users/${userId}/stats`);\n        return response.json();\n    }\n\n    async getLeaderboard() {\n        const response = await fetch(`${API_BASE_URL}/leaderboard`);\n        \n        if (!response.ok) {\n            const errorData = await response.json().catch(() => ({ error: 'Unknown error' }));\n            throw new Error(errorData.error || `HTTP ${response.status}`);\n        }\n        \n        return response.json();\n    }\n\n    // Health check\n    async checkHealth() {\n        const response = await fetch(`${API_BASE_URL}/health`);\n        return response.json();\n    }\n}\n\nconst apiService = new ApiService();\nexport default apiService;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}