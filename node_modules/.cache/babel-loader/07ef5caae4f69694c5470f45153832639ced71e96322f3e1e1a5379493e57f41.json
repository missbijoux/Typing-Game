{"ast":null,"code":"import React,{useState,useEffect}from'react';import apiService from'../services/api';import'./Leaderboard.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Leaderboard=_ref=>{let{onClose}=_ref;const[leaderboard,setLeaderboard]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{loadLeaderboard();},[]);const loadLeaderboard=async()=>{try{setLoading(true);const data=await apiService.getLeaderboard();setLeaderboard(data);}catch(err){setError('Failed to load leaderboard');console.error('Error loading leaderboard:',err);}finally{setLoading(false);}};const formatWPM=wpm=>{return wpm?Math.round(wpm):0;};const getRankIcon=index=>{switch(index){case 0:return'ü•á';case 1:return'ü•à';case 2:return'ü•â';default:return\"#\".concat(index+1);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"leaderboard-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"leaderboard-modal\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"leaderboard-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83C\\uDFC6 Leaderboard\"}),/*#__PURE__*/_jsx(\"button\",{className:\"close-button\",onClick:onClose,children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading leaderboard...\"})]})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"leaderboard-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"leaderboard-modal\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"leaderboard-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83C\\uDFC6 Leaderboard\"}),/*#__PURE__*/_jsx(\"button\",{className:\"close-button\",onClick:onClose,children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:error}),/*#__PURE__*/_jsx(\"button\",{className:\"retry-button\",onClick:loadLeaderboard,children:\"Try Again\"})]})});}return/*#__PURE__*/_jsx(\"div\",{className:\"leaderboard-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"leaderboard-modal\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"leaderboard-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83C\\uDFC6 Leaderboard\"}),/*#__PURE__*/_jsx(\"button\",{className:\"close-button\",onClick:onClose,children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"leaderboard-content\",children:leaderboard.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"no-data\",children:/*#__PURE__*/_jsx(\"p\",{children:\"No players yet! Be the first to set a record! \\uD83C\\uDFAE\"})}):/*#__PURE__*/_jsx(\"div\",{className:\"leaderboard-list\",children:leaderboard.map((player,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"leaderboard-item \".concat(index<3?'top-three':''),children:[/*#__PURE__*/_jsx(\"div\",{className:\"rank\",children:getRankIcon(index)}),/*#__PURE__*/_jsxs(\"div\",{className:\"player-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"username\",children:player.username}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"best-score\",children:[\"Best: \",player.best_score||0]}),/*#__PURE__*/_jsxs(\"span\",{className:\"avg-wpm\",children:[\"Avg WPM: \",formatWPM(player.avg_wpm)]}),/*#__PURE__*/_jsxs(\"span\",{className:\"sessions\",children:[\"Sessions: \",player.sessions_played||0]})]})]})]},index))})}),/*#__PURE__*/_jsx(\"div\",{className:\"leaderboard-footer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"refresh-button\",onClick:loadLeaderboard,children:\"\\uD83D\\uDD04 Refresh\"})})]})});};export default Leaderboard;","map":{"version":3,"names":["React","useState","useEffect","apiService","jsx","_jsx","jsxs","_jsxs","Leaderboard","_ref","onClose","leaderboard","setLeaderboard","loading","setLoading","error","setError","loadLeaderboard","data","getLeaderboard","err","console","formatWPM","wpm","Math","round","getRankIcon","index","concat","className","children","onClick","length","map","player","username","best_score","avg_wpm","sessions_played"],"sources":["/Users/bijoux/code/Typing-Game/typing-game/src/components/Leaderboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport apiService from '../services/api';\nimport './Leaderboard.css';\n\nconst Leaderboard = ({ onClose }) => {\n    const [leaderboard, setLeaderboard] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n\n    useEffect(() => {\n        loadLeaderboard();\n    }, []);\n\n    const loadLeaderboard = async () => {\n        try {\n            setLoading(true);\n            const data = await apiService.getLeaderboard();\n            setLeaderboard(data);\n        } catch (err) {\n            setError('Failed to load leaderboard');\n            console.error('Error loading leaderboard:', err);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const formatWPM = (wpm) => {\n        return wpm ? Math.round(wpm) : 0;\n    };\n\n    const getRankIcon = (index) => {\n        switch (index) {\n            case 0: return 'ü•á';\n            case 1: return 'ü•à';\n            case 2: return 'ü•â';\n            default: return `#${index + 1}`;\n        }\n    };\n\n    if (loading) {\n        return (\n            <div className=\"leaderboard-overlay\">\n                <div className=\"leaderboard-modal\">\n                    <div className=\"leaderboard-header\">\n                        <h2>üèÜ Leaderboard</h2>\n                        <button className=\"close-button\" onClick={onClose}>√ó</button>\n                    </div>\n                    <div className=\"loading\">Loading leaderboard...</div>\n                </div>\n            </div>\n        );\n    }\n\n    if (error) {\n        return (\n            <div className=\"leaderboard-overlay\">\n                <div className=\"leaderboard-modal\">\n                    <div className=\"leaderboard-header\">\n                        <h2>üèÜ Leaderboard</h2>\n                        <button className=\"close-button\" onClick={onClose}>√ó</button>\n                    </div>\n                    <div className=\"error\">{error}</div>\n                    <button className=\"retry-button\" onClick={loadLeaderboard}>\n                        Try Again\n                    </button>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"leaderboard-overlay\">\n            <div className=\"leaderboard-modal\">\n                <div className=\"leaderboard-header\">\n                    <h2>üèÜ Leaderboard</h2>\n                    <button className=\"close-button\" onClick={onClose}>√ó</button>\n                </div>\n                \n                <div className=\"leaderboard-content\">\n                    {leaderboard.length === 0 ? (\n                        <div className=\"no-data\">\n                            <p>No players yet! Be the first to set a record! üéÆ</p>\n                        </div>\n                    ) : (\n                        <div className=\"leaderboard-list\">\n                            {leaderboard.map((player, index) => (\n                                <div key={index} className={`leaderboard-item ${index < 3 ? 'top-three' : ''}`}>\n                                    <div className=\"rank\">\n                                        {getRankIcon(index)}\n                                    </div>\n                                    <div className=\"player-info\">\n                                        <div className=\"username\">{player.username}</div>\n                                        <div className=\"stats\">\n                                            <span className=\"best-score\">Best: {player.best_score || 0}</span>\n                                            <span className=\"avg-wpm\">Avg WPM: {formatWPM(player.avg_wpm)}</span>\n                                            <span className=\"sessions\">Sessions: {player.sessions_played || 0}</span>\n                                        </div>\n                                    </div>\n                                </div>\n                            ))}\n                        </div>\n                    )}\n                </div>\n                \n                <div className=\"leaderboard-footer\">\n                    <button className=\"refresh-button\" onClick={loadLeaderboard}>\n                        üîÑ Refresh\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Leaderboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}