{"ast":null,"code":"const API_BASE_URL = process.env.NODE_ENV === 'production' ? '/api' : 'http://localhost:3001/api';\nclass ApiService {\n  // User management\n  async createUser(username, password, email = null) {\n    const response = await fetch(`${API_BASE_URL}/users`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        username,\n        password,\n        email\n      })\n    });\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({\n        error: 'Unknown error'\n      }));\n      throw new Error(errorData.error || `HTTP ${response.status}`);\n    }\n    return response.json();\n  }\n  async loginUser(username, password) {\n    const response = await fetch(`${API_BASE_URL}/users/login`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        username,\n        password\n      })\n    });\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({\n        error: 'Unknown error'\n      }));\n      throw new Error(errorData.error || `HTTP ${response.status}`);\n    }\n    return response.json();\n  }\n  async getUser(id) {\n    const response = await fetch(`${API_BASE_URL}/users/${id}`);\n    return response.json();\n  }\n  async getAllUsers() {\n    const response = await fetch(`${API_BASE_URL}/users`);\n    return response.json();\n  }\n\n  // Game sessions\n  async createGameSession(userId, gameData) {\n    const {\n      score,\n      timeLeft,\n      sentencesCompleted,\n      accuracy,\n      wpm\n    } = gameData;\n    const response = await fetch(`${API_BASE_URL}/sessions`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        user_id: userId,\n        score,\n        time_left: timeLeft,\n        sentences_completed: sentencesCompleted,\n        accuracy,\n        wpm\n      })\n    });\n    return response.json();\n  }\n  async getUserSessions(userId) {\n    const response = await fetch(`${API_BASE_URL}/users/${userId}/sessions`);\n    return response.json();\n  }\n\n  // Sentence attempts\n  async saveSentenceAttempt(sessionId, sentence, userInput, isCorrect, timeTaken) {\n    const response = await fetch(`${API_BASE_URL}/sentence-attempts`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        session_id: sessionId,\n        sentence,\n        user_input: userInput,\n        is_correct: isCorrect,\n        time_taken: timeTaken\n      })\n    });\n    return response.json();\n  }\n\n  // Statistics\n  async getUserStats(userId) {\n    const response = await fetch(`${API_BASE_URL}/users/${userId}/stats`);\n    return response.json();\n  }\n  async getLeaderboard() {\n    const response = await fetch(`${API_BASE_URL}/leaderboard`);\n    return response.json();\n  }\n\n  // Health check\n  async checkHealth() {\n    const response = await fetch(`${API_BASE_URL}/health`);\n    return response.json();\n  }\n}\nconst apiService = new ApiService();\nexport default apiService;","map":{"version":3,"names":["API_BASE_URL","process","env","NODE_ENV","ApiService","createUser","username","password","email","response","fetch","method","headers","body","JSON","stringify","ok","errorData","json","catch","error","Error","status","loginUser","getUser","id","getAllUsers","createGameSession","userId","gameData","score","timeLeft","sentencesCompleted","accuracy","wpm","user_id","time_left","sentences_completed","getUserSessions","saveSentenceAttempt","sessionId","sentence","userInput","isCorrect","timeTaken","session_id","user_input","is_correct","time_taken","getUserStats","getLeaderboard","checkHealth","apiService"],"sources":["/Users/bijoux/code/Typing-Game/typing-game/src/services/api.js"],"sourcesContent":["const API_BASE_URL = process.env.NODE_ENV === 'production' \n    ? '/api' \n    : 'http://localhost:3001/api';\n\nclass ApiService {\n    // User management\n    async createUser(username, password, email = null) {\n        const response = await fetch(`${API_BASE_URL}/users`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({ username, password, email }),\n        });\n        \n        if (!response.ok) {\n            const errorData = await response.json().catch(() => ({ error: 'Unknown error' }));\n            throw new Error(errorData.error || `HTTP ${response.status}`);\n        }\n        \n        return response.json();\n    }\n\n    async loginUser(username, password) {\n        const response = await fetch(`${API_BASE_URL}/users/login`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({ username, password }),\n        });\n        \n        if (!response.ok) {\n            const errorData = await response.json().catch(() => ({ error: 'Unknown error' }));\n            throw new Error(errorData.error || `HTTP ${response.status}`);\n        }\n        \n        return response.json();\n    }\n\n    async getUser(id) {\n        const response = await fetch(`${API_BASE_URL}/users/${id}`);\n        return response.json();\n    }\n\n    async getAllUsers() {\n        const response = await fetch(`${API_BASE_URL}/users`);\n        return response.json();\n    }\n\n    // Game sessions\n    async createGameSession(userId, gameData) {\n        const { score, timeLeft, sentencesCompleted, accuracy, wpm } = gameData;\n        const response = await fetch(`${API_BASE_URL}/sessions`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                user_id: userId,\n                score,\n                time_left: timeLeft,\n                sentences_completed: sentencesCompleted,\n                accuracy,\n                wpm,\n            }),\n        });\n        return response.json();\n    }\n\n    async getUserSessions(userId) {\n        const response = await fetch(`${API_BASE_URL}/users/${userId}/sessions`);\n        return response.json();\n    }\n\n    // Sentence attempts\n    async saveSentenceAttempt(sessionId, sentence, userInput, isCorrect, timeTaken) {\n        const response = await fetch(`${API_BASE_URL}/sentence-attempts`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                session_id: sessionId,\n                sentence,\n                user_input: userInput,\n                is_correct: isCorrect,\n                time_taken: timeTaken,\n            }),\n        });\n        return response.json();\n    }\n\n    // Statistics\n    async getUserStats(userId) {\n        const response = await fetch(`${API_BASE_URL}/users/${userId}/stats`);\n        return response.json();\n    }\n\n    async getLeaderboard() {\n        const response = await fetch(`${API_BASE_URL}/leaderboard`);\n        return response.json();\n    }\n\n    // Health check\n    async checkHealth() {\n        const response = await fetch(`${API_BASE_URL}/health`);\n        return response.json();\n    }\n}\n\nconst apiService = new ApiService();\nexport default apiService;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}